<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Bookings</title>
</head>
<body>
    <h1>Booking Debug Information</h1>
    <div id="debug-output"></div>

    <script src="day-availability-config.js"></script>
    <script>
        function debugBookings() {
            const output = document.getElementById('debug-output');
            
            // Get current capacity
            const capacity = window.DateAvailabilityConfig.getBookingCapacity();
            
            // Get all booked dates
            const bookedDates = window.DateAvailabilityConfig.getBookedDates();
            
            // Get available dates
            const availableDates = window.DateAvailabilityConfig.getAvailableDates();
            
            let html = `
                <h2>Current Settings</h2>
                <p><strong>Booking Capacity:</strong> ${capacity}</p>
                
                <h2>Available Dates</h2>
                <p>Total: ${availableDates.length}</p>
                <pre>${JSON.stringify(availableDates, null, 2)}</pre>
                
                <h2>Booked Dates</h2>
                <p>Total: ${bookedDates.length}</p>
                <pre>${JSON.stringify(bookedDates, null, 2)}</pre>
                
                <h2>Specific Date Analysis</h2>
            `;
            
            // Check specific dates from the calendar
            const datesToCheck = ['2024-12-12', '2024-12-15'];
            
            datesToCheck.forEach(dateString => {
                const bookingStatus = window.DateAvailabilityConfig.getDateBookingStatus(dateString);
                const bookingsForDate = window.DateAvailabilityConfig.getBookingDetailsForDate(dateString);
                const isBooked = window.DateAvailabilityConfig.isDateBooked(dateString);
                const isAvailable = window.DateAvailabilityConfig.isDateAvailable(dateString);
                const isFullyBooked = window.DateAvailabilityConfig.isDateFullyBooked(dateString);
                const isPartiallyBooked = window.DateAvailabilityConfig.isDatePartiallyBooked(dateString);
                
                html += `
                    <h3>Date: ${dateString}</h3>
                    <ul>
                        <li><strong>Booking Status:</strong> ${bookingStatus}</li>
                        <li><strong>Number of Bookings:</strong> ${bookingsForDate.length}</li>
                        <li><strong>Is Booked:</strong> ${isBooked}</li>
                        <li><strong>Is Available:</strong> ${isAvailable}</li>
                        <li><strong>Is Fully Booked:</strong> ${isFullyBooked}</li>
                        <li><strong>Is Partially Booked:</strong> ${isPartiallyBooked}</li>
                        <li><strong>Bookings Details:</strong> <pre>${JSON.stringify(bookingsForDate, null, 2)}</pre></li>
                    </ul>
                `;
            });
            
            output.innerHTML = html;
        }
        
        // Run debug when page loads
        window.addEventListener('load', debugBookings);
    </script>
</body>
</html>
